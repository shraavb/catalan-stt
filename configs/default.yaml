# SpanishSlangSTT Configuration

# Data settings
data:
  sample_rate: 16000
  max_duration_seconds: 30
  min_duration_seconds: 0.5
  train_split: 0.8
  val_split: 0.1
  test_split: 0.1

  # Dataset directories
  raw_dir: "data/raw"
  processed_dir: "data/processed"
  manifests_dir: "data/splits"

# External datasets configuration
datasets:
  # Spanish Conversational Corpus (MagicHub)
  # License: CC BY-NC-ND 4.0 | 5.56 hours
  # Note: Requires manual download from MagicHub
  spanish-conversational:
    enabled: true
    language: "es"
    source: "magichub"
    manual_download: true
    download_url: "https://magichub.com/datasets/spanish-conversational-speech-corpus/"
    hours: 5.56
    priority: 1

# Whisper model settings
model:
  base_model: "openai/whisper-small"
  language: "es"
  task: "transcribe"

# Training settings
training:
  output_dir: "./models/spanish-slang-whisper"
  num_train_epochs: 3
  per_device_train_batch_size: 8
  per_device_eval_batch_size: 8
  gradient_accumulation_steps: 2
  learning_rate: 1.0e-5
  warmup_steps: 500
  max_steps: -1
  save_steps: 500
  eval_steps: 500
  logging_steps: 100
  fp16: true
  push_to_hub: false

# Audio preprocessing
preprocessing:
  normalize_audio: true
  target_db: -20
  trim_silence: true
  silence_threshold_db: -40

# Evaluation
evaluation:
  metrics:
    - wer
    - cer
  num_beams: 5

# Spanish slang vocabulary markers
slang_markers:
  lexical:
    - "tio"
    - "tia"
    - "mola"
    - "guay"
    - "currar"
    - "pasta"
    - "flipar"
    - "molar"
    - "rollo"
    - "chaval"
    - "chavala"
  regional:
    mexico:
      - "chido"
      - "padre"
      - "neta"
      - "chale"
      - "onda"
    argentina:
      - "che"
      - "boludo"
      - "pibe"
      - "mina"
      - "laburo"
    spain:
      - "tio"
      - "tia"
      - "mola"
      - "guay"
      - "currar"
      - "pasta"
      - "flipar"
      - "quedarse"
      - "chaval"
      - "colega"

# API settings
api:
  host: "0.0.0.0"
  port: 8000
  max_audio_size_mb: 25
  supported_formats:
    - "wav"
    - "mp3"
    - "m4a"
    - "ogg"
    - "flac"
